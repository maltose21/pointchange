# PointChange - 积分互兑中台管理系统 PRD (v3.0)

**版本**：v3.0 (最终交付版)  
**状态**：已发布  
**适用对象**：运营管理员、系统研发  

## 1. 产品概述
PointChange 是一个轻量级、可扩展的通用积分互兑中台。它旨在解决企业内部多业务线之间（如商城、游戏、会员、第三方）资产互通难、汇率配置复杂、结算规则不统一的问题。

### 核心价值
- **资产标准化**：将分散的业务积分抽象为统一的“资产(Asset)”实体，通过配置化接入。
- **规则配置化**：通过管理后台动态配置兑换汇率、门槛、限额，无需硬编码。
- **交易原子化**：提供统一的试算与执行接口，确保资产流转的一致性。

---

## 2. 核心功能模块

### 2.1 资产管理 (Asset Management)
*目标：定义和管理所有参与互兑的业务资产。*

*   **资产录入**：
    *   **基础信息**：资产代码 (`MALL_POINT`)、名称 (`商城积分`)、描述。
    *   **服务接入**：配置服务根地址 (`Service URL`) 及鉴权 Token。
    *   **接口定义**：配置扣减 (`Deduct`)、发放 (`Grant`)、查询 (`Query`) 接口路径。
*   **资产列表**：展示所有已接入资产的状态及最近更新时间。
*   **安全约束**：已被规则引用的资产不允许删除，保障系统稳定性。

### 2.2 规则配置 (Rule Configuration)
*目标：灵活定义资产之间的兑换逻辑。*

*   **规则定义**：
    *   **流向控制**：指定源资产 (`Source`) 到目标资产 (`Target`) 的单向流动。
    *   **汇率模型**：支持浮动汇率配置 (如 `1 Source = 0.1 Target`)。
    *   **风控参数**：
        *   `Step Size`: 步长限制 (如必须 10 的倍数)。
        *   `Min Amount`: 起兑门槛 (如 100 起兑)。
        *   `Daily Limit`: 单日兑换总额上限。
*   **状态管理**：支持规则的“启用/禁用”热切换。
*   **列表管理**：支持按状态筛选、分页查询。

---

## 3. 非功能性需求 (NFR)
*   **扩展性**：后端采用无状态 RESTful API 设计，支持水平扩展。
*   **易用性**：前端采用单页应用 (SPA) 架构，提供 Toast 反馈、表单校验等交互体验。
*   **部署**：零依赖架构 (Python 3 标准库 + SQLite)，支持 Docker 化或单机快速部署。
