# PointChange - 通用积分互兑规则管理平台 PRD (v2.0)

**版本**：v2.0 (管理后台版)  
**状态**：开发中  
**目标**：提供给运营人员使用的规则配置管理后台，实现积分互兑规则的增删改查。

## 1. 页面布局与风格
参考经典的中后台管理系统设计：
- **侧边栏 (Sidebar)**：深色背景，左侧固定。
    - 菜单项：`系统管理` > `规则配置` (当前激活)。
- **顶栏 (Header)**：面包屑导航 (`系统管理 / 规则配置`)。
- **内容区 (Content)**：白色卡片式布局。

## 2. 核心功能需求

### 2.1 规则列表页 (List View)
- **筛选区域**：
    - `源资产类型` (下拉框)
    - `目标资产类型` (下拉框)
    - `状态` (启用/禁用)
    - [查询] [重置] 按钮
- **操作栏**：
    - [新增规则] 按钮 (蓝色高亮)
- **数据表格**：
    | 序号 | 规则ID | 规则名称 | 源资产 | 目标资产 | 汇率 | 步长 | 状态 | 修改人 | 修改时间 | 操作 |
    | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
    | 1 | R001 | 积分兑换成长值 | MALL_POINT | VIP_GROWTH | 0.1 | 10 | 启用 | admin | 2026-02-09 | [编辑] [删除] |
- **分页器**：底部分页 (每页10/20/50条)。

### 2.2 新增/编辑规则 (Create/Edit Modal)
点击新增或编辑时弹出对话框：
- **规则名称**：输入框 (必填)
- **源资产类型**：下拉选择 (MALL_POINT, GAME_COIN, etc.)
- **目标资产类型**：下拉选择
- **兑换汇率**：数字输入 (如 0.1 表示 10:1)
- **兑换步长**：整数输入 (如 10，表示必须10的倍数起兑)
- **起兑门槛**：整数输入
- **单日限额**：整数输入
- **状态**：Radio (启用/禁用)

## 3. 接口设计 (API)

### 3.1 查询规则列表 `GET /api/v1/admin/rules`
- Query Params: `page`, `page_size`, `source_asset`, `status`
- Response: `{ total: 100, items: [...] }`

### 3.2 创建规则 `POST /api/v1/admin/rules`
- Body: `{ name, source_asset, target_asset, rate, step, ... }`

### 3.3 更新规则 `PUT /api/v1/admin/rules/{id}`
- Body: `{ name, rate, status, ... }`

### 3.4 删除规则 `DELETE /api/v1/admin/rules/{id}`

## 4. 数据库设计 (SQLite)
更新 `rules` 表结构，增加 `updated_by`, `updated_at`, `name` 等管理字段。
